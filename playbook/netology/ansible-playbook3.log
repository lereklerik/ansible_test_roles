
PLAY [Work with elasticsearch-role] ********************************************

TASK [Gathering Facts] *********************************************************
ok: [el-centos]
ok: [el-deb]

TASK [elastic : Fail if unsupported system detected] ***************************
skipping: [el-centos]
skipping: [el-deb]

TASK [elastic : include_tasks] *************************************************
included: /home/lerekler/Learning/gitProjects/ansible_03/ansible_role/roles/elastic/tasks/download_yum.yml for el-centos
included: /home/lerekler/Learning/gitProjects/ansible_03/ansible_role/roles/elastic/tasks/download_apt.yml for el-deb

TASK [elastic : Download Elasticsearch's rpm] **********************************
ok: [el-centos -> localhost]

TASK [elastic : Copy Elasticsearch to managed node] ****************************
changed: [el-centos]

TASK [elastic : Download Elasticsearch's deb] **********************************
ok: [el-deb -> localhost]

TASK [elastic : Copy Elasticsearch to manage host] *****************************
changed: [el-deb]

TASK [elastic : include_tasks] *************************************************
included: /home/lerekler/Learning/gitProjects/ansible_03/ansible_role/roles/elastic/tasks/install_yum.yml for el-centos
included: /home/lerekler/Learning/gitProjects/ansible_03/ansible_role/roles/elastic/tasks/install_apt.yml for el-deb

TASK [elastic : Install Elasticsearch] *****************************************
changed: [el-centos]

TASK [elastic : Install Elasticsearch] *****************************************
changed: [el-deb]

TASK [elastic : Configure Elasticsearch] ***************************************
changed: [el-centos]
changed: [el-deb]

RUNNING HANDLER [elastic : restart Elasticsearch] ******************************
changed: [el-centos]
changed: [el-deb]

PLAY [Work with kibana-role] ***************************************************

TASK [Gathering Facts] *********************************************************
ok: [k-deb]
ok: [k-centos]

TASK [kibana : Fail if unsupported system detected] ****************************
skipping: [k-centos]
skipping: [k-deb]

TASK [kibana : include_tasks] **************************************************
included: /home/lerekler/Learning/gitProjects/ansible_03/ansible_role/roles/kibana/tasks/download_yum.yml for k-centos
included: /home/lerekler/Learning/gitProjects/ansible_03/ansible_role/roles/kibana/tasks/download_apt.yml for k-deb

TASK [kibana : Download Kibana's rpm] ******************************************
ok: [k-centos -> localhost]

TASK [kibana : Copy Kibana to managed node] ************************************
ok: [k-centos]

TASK [kibana : Download Kibana's deb] ******************************************
ok: [k-deb -> localhost]

TASK [kibana : Copy kibana to manage host] *************************************
ok: [k-deb]

TASK [kibana : include_tasks] **************************************************
included: /home/lerekler/Learning/gitProjects/ansible_03/ansible_role/roles/kibana/tasks/install_yum.yml for k-centos
included: /home/lerekler/Learning/gitProjects/ansible_03/ansible_role/roles/kibana/tasks/install_apt.yml for k-deb

TASK [kibana : Install Kibana] *************************************************
ok: [k-centos]

TASK [kibana : Install Kibana] *************************************************
ok: [k-deb]

TASK [kibana : Configure Kibana] ***********************************************
changed: [k-deb]
changed: [k-centos]

RUNNING HANDLER [kibana : restart Kibana] **************************************
changed: [k-deb]
changed: [k-centos]

PLAY [Work with filebeat-role] *************************************************

TASK [Gathering Facts] *********************************************************
ok: [f-deb]
ok: [f-centos]

TASK [filebeat : Fail if unsupported system detected] **************************
skipping: [f-centos]
skipping: [f-deb]

TASK [filebeat : include_tasks] ************************************************
included: /home/lerekler/Learning/gitProjects/ansible_03/ansible_role/roles/filebeat/tasks/download_yum.yml for f-centos
included: /home/lerekler/Learning/gitProjects/ansible_03/ansible_role/roles/filebeat/tasks/download_apt.yml for f-deb

TASK [filebeat : Download Kibana's rpm] ****************************************
ok: [f-centos -> localhost]

TASK [filebeat : Copy Filebeat to managed node] ********************************
ok: [f-centos]

TASK [filebeat : Download Filebeat's deb] **************************************
ok: [f-deb -> localhost]

TASK [filebeat : Copy Filebeat to manage host] *********************************
ok: [f-deb]

TASK [filebeat : include_tasks] ************************************************
included: /home/lerekler/Learning/gitProjects/ansible_03/ansible_role/roles/filebeat/tasks/install_yum.yml for f-centos
included: /home/lerekler/Learning/gitProjects/ansible_03/ansible_role/roles/filebeat/tasks/install_apt.yml for f-deb

TASK [filebeat : Install Filebeat] *********************************************
ok: [f-centos]

TASK [filebeat : Install Filebeat] *********************************************
ok: [f-deb]

TASK [filebeat : Configure Filebeat] *******************************************
changed: [f-deb]
changed: [f-centos]

TASK [filebeat : Set filebeat systemwork] **************************************
ok: [f-deb]
ok: [f-centos]

TASK [filebeat : Load Kibana dashboard] ****************************************
FAILED - RETRYING: Load Kibana dashboard (3 retries left).
FAILED - RETRYING: Load Kibana dashboard (3 retries left).
ok: [f-deb]
ok: [f-centos]

PLAY [Work with logstash-role] *************************************************

TASK [Gathering Facts] *********************************************************
ok: [el-centos]
ok: [el-deb]

TASK [logstash : Fail if unsupported system detected] **************************
skipping: [el-centos]
skipping: [el-deb]

TASK [logstash : include_tasks] ************************************************
included: /home/lerekler/Learning/gitProjects/ansible_03/ansible_role/roles/logstash/tasks/download_yum.yml for el-centos
included: /home/lerekler/Learning/gitProjects/ansible_03/ansible_role/roles/logstash/tasks/download_apt.yml for el-deb

TASK [logstash : Download Logstash's rpm] **************************************
ok: [el-centos -> localhost]

TASK [logstash : Copy Logstash to managed node] ********************************
changed: [el-centos]

TASK [logstash : Download Logstash's deb] **************************************
ok: [el-deb -> localhost]

TASK [logstash : Copy Logstash to manage host] *********************************
changed: [el-deb]

TASK [logstash : include_tasks] ************************************************
included: /home/lerekler/Learning/gitProjects/ansible_03/ansible_role/roles/logstash/tasks/install_yum.yml for el-centos
included: /home/lerekler/Learning/gitProjects/ansible_03/ansible_role/roles/logstash/tasks/install_apt.yml for el-deb

TASK [logstash : Install Logstash] *********************************************
changed: [el-centos]

TASK [logstash : Install Logstash] *********************************************
changed: [el-deb]

TASK [logstash : Configure Logstash] *******************************************
changed: [el-deb]
changed: [el-centos]

TASK [logstash : Run logstash] *************************************************
fatal: [el-centos]: FAILED! => {"changed": true, "cmd": ["/usr/share/logstash/bin/logstash", "-f", "/etc/logstash/logstash.conf"], "delta": "0:00:14.965184", "end": "2021-12-11 19:07:39.735768", "msg": "non-zero return code", "rc": 1, "start": "2021-12-11 19:07:24.770584", "stderr": "OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.\n/usr/share/logstash/vendor/bundle/jruby/2.5.0/gems/bundler-1.17.3/lib/bundler/rubygems_integration.rb:200: warning: constant Gem::ConfigMap is deprecated\nWARNING: Could not find logstash.yml which is typically located in $LS_HOME/config or /etc/logstash. You can specify the path using --path.settings. Continuing using the defaults", "stderr_lines": ["OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.", "/usr/share/logstash/vendor/bundle/jruby/2.5.0/gems/bundler-1.17.3/lib/bundler/rubygems_integration.rb:200: warning: constant Gem::ConfigMap is deprecated", "WARNING: Could not find logstash.yml which is typically located in $LS_HOME/config or /etc/logstash. You can specify the path using --path.settings. Continuing using the defaults"], "stdout": "Using bundled JDK: /usr/share/logstash/jdk\nCould not find log4j2 configuration at path /usr/share/logstash/config/log4j2.properties. Using default config which logs errors to the console\n[INFO ] 2021-12-11 19:07:36.447 [main] runner - Starting Logstash {\"logstash.version\"=>\"7.14.0\", \"jruby.version\"=>\"jruby 9.2.19.0 (2.5.8) 2021-06-15 55810c552b OpenJDK 64-Bit Server VM 11.0.11+9 on 11.0.11+9 +indy +jit [linux-x86_64]\"}\n[INFO ] 2021-12-11 19:07:36.471 [main] writabledirectory - Creating directory {:setting=>\"path.queue\", :path=>\"/usr/share/logstash/data/queue\"}\n[INFO ] 2021-12-11 19:07:36.482 [main] writabledirectory - Creating directory {:setting=>\"path.dead_letter_queue\", :path=>\"/usr/share/logstash/data/dead_letter_queue\"}\n[WARN ] 2021-12-11 19:07:36.761 [LogStash::Runner] multilocal - Ignoring the 'pipelines.yml' file because modules or command line options are specified\n[INFO ] 2021-12-11 19:07:36.786 [LogStash::Runner] agent - No persistent UUID file found. Generating new UUID {:uuid=>\"a31df946-9164-4537-b62a-7e138865edee\", :path=>\"/usr/share/logstash/data/uuid\"}\n[INFO ] 2021-12-11 19:07:37.806 [Api Webserver] agent - Successfully started Logstash API endpoint {:port=>9600}\n[INFO ] 2021-12-11 19:07:38.229 [Converge PipelineAction::Create<main>] Reflections - Reflections took 62 ms to scan 1 urls, producing 120 keys and 417 values \n[WARN ] 2021-12-11 19:07:38.801 [Converge PipelineAction::Create<main>] elasticsearch - Relying on default value of `pipeline.ecs_compatibility`, which may change in a future major release of Logstash. To avoid unexpected changes when upgrading Logstash, please explicitly declare your desired ECS Compatibility mode.\n[INFO ] 2021-12-11 19:07:38.978 [[main]-pipeline-manager] elasticsearch - New Elasticsearch output {:class=>\"LogStash::Outputs::ElasticSearch\", :hosts=>[\"//localhost:9200\"]}\n[INFO ] 2021-12-11 19:07:39.243 [[main]-pipeline-manager] elasticsearch - Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[http://localhost:9200/]}}\n[WARN ] 2021-12-11 19:07:39.387 [[main]-pipeline-manager] elasticsearch - Restored connection to ES instance {:url=>\"http://localhost:9200/\"}\n[INFO ] 2021-12-11 19:07:39.421 [[main]-pipeline-manager] elasticsearch - Elasticsearch version determined (7.14.0) {:es_version=>7}\n[WARN ] 2021-12-11 19:07:39.422 [[main]-pipeline-manager] elasticsearch - Detected a 6.x and above cluster: the `type` event field won't be used to determine the document _type {:es_version=>7}\n[WARN ] 2021-12-11 19:07:39.496 [Ruby-0-Thread-10: :1] elasticsearch - Configuration is data stream compliant but due backwards compatibility Logstash 7.x will not assume writing to a data-stream, default behavior will change on Logstash 8.0 (set `data_stream => true/false` to disable this warning)\n[WARN ] 2021-12-11 19:07:39.503 [[main]-pipeline-manager] elasticsearch - Configuration is data stream compliant but due backwards compatibility Logstash 7.x will not assume writing to a data-stream, default behavior will change on Logstash 8.0 (set `data_stream => true/false` to disable this warning)\n[INFO ] 2021-12-11 19:07:39.538 [Ruby-0-Thread-10: :1] elasticsearch - Using a default mapping template {:es_version=>7, :ecs_compatibility=>:disabled}\n[INFO ] 2021-12-11 19:07:39.548 [[main]-pipeline-manager] javapipeline - Starting pipeline {:pipeline_id=>\"main\", \"pipeline.workers\"=>6, \"pipeline.batch.size\"=>125, \"pipeline.batch.delay\"=>50, \"pipeline.max_inflight\"=>750, \"pipeline.sources\"=>[\"/etc/logstash/logstash.conf\"], :thread=>\"#<Thread:0x62253b8d run>\"}\n[ERROR] 2021-12-11 19:07:39.557 [Ruby-0-Thread-12: :1] javapipeline - Worker loop initialization error {:pipeline_id=>\"main\", :error=>\"Missing Filter End Vertex\", :exception=>Java::JavaLang::IllegalStateException, :stacktrace=>\"org.logstash.config.ir.CompiledPipeline$CompiledExecution.lambda$compileFilters$1(org/logstash/config/ir/CompiledPipeline.java:376)\\njava.util.Optional.orElseThrow(java/util/Optional.java:408)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.compileFilters(org/logstash/config/ir/CompiledPipeline.java:376)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:359)\\norg.logstash.config.ir.CompiledPipeline$CompiledUnorderedExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:319)\\norg.logstash.config.ir.CompiledPipeline.buildExecution(org/logstash/config/ir/CompiledPipeline.java:153)\\norg.logstash.execution.WorkerLoop.<init>(org/logstash/execution/WorkerLoop.java:67)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(jdk/internal/reflect/NativeConstructorAccessorImpl.java:62)\\njdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(jdk/internal/reflect/DelegatingConstructorAccessorImpl.java:45)\\njava.lang.reflect.Constructor.newInstance(java/lang/reflect/Constructor.java:490)\\norg.jruby.javasupport.JavaConstructor.newInstanceDirect(org/jruby/javasupport/JavaConstructor.java:253)\\norg.jruby.RubyClass.newInstance(org/jruby/RubyClass.java:939)\\norg.jruby.RubyClass$INVOKER$i$newInstance.call(org/jruby/RubyClass$INVOKER$i$newInstance.gen)\\nRUBY.init_worker_loop(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:565)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.start_workers(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:280)\\norg.jruby.RubyProc.call(org/jruby/RubyProc.java:318)\\njava.lang.Thread.run(java/lang/Thread.java:829)\", :thread=>\"#<Thread:0x62253b8d sleep>\"}\n[ERROR] 2021-12-11 19:07:39.560 [Ruby-0-Thread-15: :1] javapipeline - Worker loop initialization error {:pipeline_id=>\"main\", :error=>\"Missing Filter End Vertex\", :exception=>Java::JavaLang::IllegalStateException, :stacktrace=>\"org.logstash.config.ir.CompiledPipeline$CompiledExecution.lambda$compileFilters$1(org/logstash/config/ir/CompiledPipeline.java:376)\\njava.util.Optional.orElseThrow(java/util/Optional.java:408)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.compileFilters(org/logstash/config/ir/CompiledPipeline.java:376)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:359)\\norg.logstash.config.ir.CompiledPipeline$CompiledUnorderedExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:319)\\norg.logstash.config.ir.CompiledPipeline.buildExecution(org/logstash/config/ir/CompiledPipeline.java:153)\\norg.logstash.execution.WorkerLoop.<init>(org/logstash/execution/WorkerLoop.java:67)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(jdk/internal/reflect/NativeConstructorAccessorImpl.java:62)\\njdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(jdk/internal/reflect/DelegatingConstructorAccessorImpl.java:45)\\njava.lang.reflect.Constructor.newInstance(java/lang/reflect/Constructor.java:490)\\norg.jruby.javasupport.JavaConstructor.newInstanceDirect(org/jruby/javasupport/JavaConstructor.java:253)\\norg.jruby.RubyClass.newInstance(org/jruby/RubyClass.java:939)\\norg.jruby.RubyClass$INVOKER$i$newInstance.call(org/jruby/RubyClass$INVOKER$i$newInstance.gen)\\nRUBY.init_worker_loop(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:565)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.start_workers(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:280)\\norg.jruby.RubyProc.call(org/jruby/RubyProc.java:318)\\njava.lang.Thread.run(java/lang/Thread.java:829)\", :thread=>\"#<Thread:0x62253b8d sleep>\"}\n[ERROR] 2021-12-11 19:07:39.560 [Ruby-0-Thread-11: :1] javapipeline - Worker loop initialization error {:pipeline_id=>\"main\", :error=>\"Missing Filter End Vertex\", :exception=>Java::JavaLang::IllegalStateException, :stacktrace=>\"org.logstash.config.ir.CompiledPipeline$CompiledExecution.lambda$compileFilters$1(org/logstash/config/ir/CompiledPipeline.java:376)\\njava.util.Optional.orElseThrow(java/util/Optional.java:408)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.compileFilters(org/logstash/config/ir/CompiledPipeline.java:376)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:359)\\norg.logstash.config.ir.CompiledPipeline$CompiledUnorderedExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:319)\\norg.logstash.config.ir.CompiledPipeline.buildExecution(org/logstash/config/ir/CompiledPipeline.java:153)\\norg.logstash.execution.WorkerLoop.<init>(org/logstash/execution/WorkerLoop.java:67)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(jdk/internal/reflect/NativeConstructorAccessorImpl.java:62)\\njdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(jdk/internal/reflect/DelegatingConstructorAccessorImpl.java:45)\\njava.lang.reflect.Constructor.newInstance(java/lang/reflect/Constructor.java:490)\\norg.jruby.javasupport.JavaConstructor.newInstanceDirect(org/jruby/javasupport/JavaConstructor.java:253)\\norg.jruby.RubyClass.newInstance(org/jruby/RubyClass.java:939)\\norg.jruby.RubyClass$INVOKER$i$newInstance.call(org/jruby/RubyClass$INVOKER$i$newInstance.gen)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.init_worker_loop(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:565)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.RUBY$method$init_worker_loop$0$__VARARGS__(usr/share/logstash/logstash_minus_core/lib/logstash//usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.start_workers(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:280)\\norg.jruby.RubyProc.call(org/jruby/RubyProc.java:318)\\njava.lang.Thread.run(java/lang/Thread.java:829)\", :thread=>\"#<Thread:0x62253b8d sleep>\"}\n[ERROR] 2021-12-11 19:07:39.562 [Ruby-0-Thread-13: :1] javapipeline - Worker loop initialization error {:pipeline_id=>\"main\", :error=>\"Missing Filter End Vertex\", :exception=>Java::JavaLang::IllegalStateException, :stacktrace=>\"org.logstash.config.ir.CompiledPipeline$CompiledExecution.lambda$compileFilters$1(org/logstash/config/ir/CompiledPipeline.java:376)\\njava.util.Optional.orElseThrow(java/util/Optional.java:408)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.compileFilters(org/logstash/config/ir/CompiledPipeline.java:376)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:359)\\norg.logstash.config.ir.CompiledPipeline$CompiledUnorderedExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:319)\\norg.logstash.config.ir.CompiledPipeline.buildExecution(org/logstash/config/ir/CompiledPipeline.java:153)\\norg.logstash.execution.WorkerLoop.<init>(org/logstash/execution/WorkerLoop.java:67)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(jdk/internal/reflect/NativeConstructorAccessorImpl.java:62)\\njdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(jdk/internal/reflect/DelegatingConstructorAccessorImpl.java:45)\\njava.lang.reflect.Constructor.newInstance(java/lang/reflect/Constructor.java:490)\\norg.jruby.javasupport.JavaConstructor.newInstanceDirect(org/jruby/javasupport/JavaConstructor.java:253)\\norg.jruby.RubyClass.newInstance(org/jruby/RubyClass.java:939)\\norg.jruby.RubyClass$INVOKER$i$newInstance.call(org/jruby/RubyClass$INVOKER$i$newInstance.gen)\\nRUBY.init_worker_loop(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:565)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.start_workers(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:280)\\norg.jruby.RubyProc.call(org/jruby/RubyProc.java:318)\\njava.lang.Thread.run(java/lang/Thread.java:829)\", :thread=>\"#<Thread:0x62253b8d sleep>\"}\n[ERROR] 2021-12-11 19:07:39.562 [Ruby-0-Thread-14: :1] javapipeline - Worker loop initialization error {:pipeline_id=>\"main\", :error=>\"Missing Filter End Vertex\", :exception=>Java::JavaLang::IllegalStateException, :stacktrace=>\"org.logstash.config.ir.CompiledPipeline$CompiledExecution.lambda$compileFilters$1(org/logstash/config/ir/CompiledPipeline.java:376)\\njava.util.Optional.orElseThrow(java/util/Optional.java:408)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.compileFilters(org/logstash/config/ir/CompiledPipeline.java:376)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:359)\\norg.logstash.config.ir.CompiledPipeline$CompiledUnorderedExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:319)\\norg.logstash.config.ir.CompiledPipeline.buildExecution(org/logstash/config/ir/CompiledPipeline.java:153)\\norg.logstash.execution.WorkerLoop.<init>(org/logstash/execution/WorkerLoop.java:67)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(jdk/internal/reflect/NativeConstructorAccessorImpl.java:62)\\njdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(jdk/internal/reflect/DelegatingConstructorAccessorImpl.java:45)\\njava.lang.reflect.Constructor.newInstance(java/lang/reflect/Constructor.java:490)\\norg.jruby.javasupport.JavaConstructor.newInstanceDirect(org/jruby/javasupport/JavaConstructor.java:253)\\norg.jruby.RubyClass.newInstance(org/jruby/RubyClass.java:939)\\norg.jruby.RubyClass$INVOKER$i$newInstance.call(org/jruby/RubyClass$INVOKER$i$newInstance.gen)\\nRUBY.init_worker_loop(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:565)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.start_workers(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:280)\\norg.jruby.RubyProc.call(org/jruby/RubyProc.java:318)\\njava.lang.Thread.run(java/lang/Thread.java:829)\", :thread=>\"#<Thread:0x62253b8d sleep>\"}\n[ERROR] 2021-12-11 19:07:39.563 [Ruby-0-Thread-16: :1] javapipeline - Worker loop initialization error {:pipeline_id=>\"main\", :error=>\"Missing Filter End Vertex\", :exception=>Java::JavaLang::IllegalStateException, :stacktrace=>\"org.logstash.config.ir.CompiledPipeline$CompiledExecution.lambda$compileFilters$1(org/logstash/config/ir/CompiledPipeline.java:376)\\njava.util.Optional.orElseThrow(java/util/Optional.java:408)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.compileFilters(org/logstash/config/ir/CompiledPipeline.java:376)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:359)\\norg.logstash.config.ir.CompiledPipeline$CompiledUnorderedExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:319)\\norg.logstash.config.ir.CompiledPipeline.buildExecution(org/logstash/config/ir/CompiledPipeline.java:153)\\norg.logstash.execution.WorkerLoop.<init>(org/logstash/execution/WorkerLoop.java:67)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(jdk/internal/reflect/NativeConstructorAccessorImpl.java:62)\\njdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(jdk/internal/reflect/DelegatingConstructorAccessorImpl.java:45)\\njava.lang.reflect.Constructor.newInstance(java/lang/reflect/Constructor.java:490)\\norg.jruby.javasupport.JavaConstructor.newInstanceDirect(org/jruby/javasupport/JavaConstructor.java:253)\\norg.jruby.RubyClass.newInstance(org/jruby/RubyClass.java:939)\\norg.jruby.RubyClass$INVOKER$i$newInstance.call(org/jruby/RubyClass$INVOKER$i$newInstance.gen)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.init_worker_loop(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:565)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.RUBY$method$init_worker_loop$0$__VARARGS__(usr/share/logstash/logstash_minus_core/lib/logstash//usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.start_workers(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:280)\\norg.jruby.RubyProc.call(org/jruby/RubyProc.java:318)\\njava.lang.Thread.run(java/lang/Thread.java:829)\", :thread=>\"#<Thread:0x62253b8d sleep>\"}\n[ERROR] 2021-12-11 19:07:39.569 [[main]-pipeline-manager] javapipeline - Pipeline error {:pipeline_id=>\"main\", :exception=>#<RuntimeError: Some worker(s) were not correctly initialized>, :backtrace=>[\"/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:284:in `start_workers'\", \"/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:185:in `run'\", \"/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:137:in `block in start'\"], \"pipeline.sources\"=>[\"/etc/logstash/logstash.conf\"], :thread=>\"#<Thread:0x62253b8d run>\"}\n[INFO ] 2021-12-11 19:07:39.571 [[main]-pipeline-manager] javapipeline - Pipeline terminated {\"pipeline.id\"=>\"main\"}\n[ERROR] 2021-12-11 19:07:39.588 [Converge PipelineAction::Create<main>] agent - Failed to execute action {:id=>:main, :action_type=>LogStash::ConvergeResult::FailedAction, :message=>\"Could not execute action: PipelineAction::Create<main>, action_result: false\", :backtrace=>nil}\n[INFO ] 2021-12-11 19:07:39.618 [Ruby-0-Thread-10: :1] elasticsearch - Installing Elasticsearch template {:name=>\"logstash\"}\n[INFO ] 2021-12-11 19:07:39.666 [LogStash::Runner] runner - Logstash shut down.", "stdout_lines": ["Using bundled JDK: /usr/share/logstash/jdk", "Could not find log4j2 configuration at path /usr/share/logstash/config/log4j2.properties. Using default config which logs errors to the console", "[INFO ] 2021-12-11 19:07:36.447 [main] runner - Starting Logstash {\"logstash.version\"=>\"7.14.0\", \"jruby.version\"=>\"jruby 9.2.19.0 (2.5.8) 2021-06-15 55810c552b OpenJDK 64-Bit Server VM 11.0.11+9 on 11.0.11+9 +indy +jit [linux-x86_64]\"}", "[INFO ] 2021-12-11 19:07:36.471 [main] writabledirectory - Creating directory {:setting=>\"path.queue\", :path=>\"/usr/share/logstash/data/queue\"}", "[INFO ] 2021-12-11 19:07:36.482 [main] writabledirectory - Creating directory {:setting=>\"path.dead_letter_queue\", :path=>\"/usr/share/logstash/data/dead_letter_queue\"}", "[WARN ] 2021-12-11 19:07:36.761 [LogStash::Runner] multilocal - Ignoring the 'pipelines.yml' file because modules or command line options are specified", "[INFO ] 2021-12-11 19:07:36.786 [LogStash::Runner] agent - No persistent UUID file found. Generating new UUID {:uuid=>\"a31df946-9164-4537-b62a-7e138865edee\", :path=>\"/usr/share/logstash/data/uuid\"}", "[INFO ] 2021-12-11 19:07:37.806 [Api Webserver] agent - Successfully started Logstash API endpoint {:port=>9600}", "[INFO ] 2021-12-11 19:07:38.229 [Converge PipelineAction::Create<main>] Reflections - Reflections took 62 ms to scan 1 urls, producing 120 keys and 417 values ", "[WARN ] 2021-12-11 19:07:38.801 [Converge PipelineAction::Create<main>] elasticsearch - Relying on default value of `pipeline.ecs_compatibility`, which may change in a future major release of Logstash. To avoid unexpected changes when upgrading Logstash, please explicitly declare your desired ECS Compatibility mode.", "[INFO ] 2021-12-11 19:07:38.978 [[main]-pipeline-manager] elasticsearch - New Elasticsearch output {:class=>\"LogStash::Outputs::ElasticSearch\", :hosts=>[\"//localhost:9200\"]}", "[INFO ] 2021-12-11 19:07:39.243 [[main]-pipeline-manager] elasticsearch - Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[http://localhost:9200/]}}", "[WARN ] 2021-12-11 19:07:39.387 [[main]-pipeline-manager] elasticsearch - Restored connection to ES instance {:url=>\"http://localhost:9200/\"}", "[INFO ] 2021-12-11 19:07:39.421 [[main]-pipeline-manager] elasticsearch - Elasticsearch version determined (7.14.0) {:es_version=>7}", "[WARN ] 2021-12-11 19:07:39.422 [[main]-pipeline-manager] elasticsearch - Detected a 6.x and above cluster: the `type` event field won't be used to determine the document _type {:es_version=>7}", "[WARN ] 2021-12-11 19:07:39.496 [Ruby-0-Thread-10: :1] elasticsearch - Configuration is data stream compliant but due backwards compatibility Logstash 7.x will not assume writing to a data-stream, default behavior will change on Logstash 8.0 (set `data_stream => true/false` to disable this warning)", "[WARN ] 2021-12-11 19:07:39.503 [[main]-pipeline-manager] elasticsearch - Configuration is data stream compliant but due backwards compatibility Logstash 7.x will not assume writing to a data-stream, default behavior will change on Logstash 8.0 (set `data_stream => true/false` to disable this warning)", "[INFO ] 2021-12-11 19:07:39.538 [Ruby-0-Thread-10: :1] elasticsearch - Using a default mapping template {:es_version=>7, :ecs_compatibility=>:disabled}", "[INFO ] 2021-12-11 19:07:39.548 [[main]-pipeline-manager] javapipeline - Starting pipeline {:pipeline_id=>\"main\", \"pipeline.workers\"=>6, \"pipeline.batch.size\"=>125, \"pipeline.batch.delay\"=>50, \"pipeline.max_inflight\"=>750, \"pipeline.sources\"=>[\"/etc/logstash/logstash.conf\"], :thread=>\"#<Thread:0x62253b8d run>\"}", "[ERROR] 2021-12-11 19:07:39.557 [Ruby-0-Thread-12: :1] javapipeline - Worker loop initialization error {:pipeline_id=>\"main\", :error=>\"Missing Filter End Vertex\", :exception=>Java::JavaLang::IllegalStateException, :stacktrace=>\"org.logstash.config.ir.CompiledPipeline$CompiledExecution.lambda$compileFilters$1(org/logstash/config/ir/CompiledPipeline.java:376)\\njava.util.Optional.orElseThrow(java/util/Optional.java:408)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.compileFilters(org/logstash/config/ir/CompiledPipeline.java:376)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:359)\\norg.logstash.config.ir.CompiledPipeline$CompiledUnorderedExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:319)\\norg.logstash.config.ir.CompiledPipeline.buildExecution(org/logstash/config/ir/CompiledPipeline.java:153)\\norg.logstash.execution.WorkerLoop.<init>(org/logstash/execution/WorkerLoop.java:67)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(jdk/internal/reflect/NativeConstructorAccessorImpl.java:62)\\njdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(jdk/internal/reflect/DelegatingConstructorAccessorImpl.java:45)\\njava.lang.reflect.Constructor.newInstance(java/lang/reflect/Constructor.java:490)\\norg.jruby.javasupport.JavaConstructor.newInstanceDirect(org/jruby/javasupport/JavaConstructor.java:253)\\norg.jruby.RubyClass.newInstance(org/jruby/RubyClass.java:939)\\norg.jruby.RubyClass$INVOKER$i$newInstance.call(org/jruby/RubyClass$INVOKER$i$newInstance.gen)\\nRUBY.init_worker_loop(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:565)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.start_workers(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:280)\\norg.jruby.RubyProc.call(org/jruby/RubyProc.java:318)\\njava.lang.Thread.run(java/lang/Thread.java:829)\", :thread=>\"#<Thread:0x62253b8d sleep>\"}", "[ERROR] 2021-12-11 19:07:39.560 [Ruby-0-Thread-15: :1] javapipeline - Worker loop initialization error {:pipeline_id=>\"main\", :error=>\"Missing Filter End Vertex\", :exception=>Java::JavaLang::IllegalStateException, :stacktrace=>\"org.logstash.config.ir.CompiledPipeline$CompiledExecution.lambda$compileFilters$1(org/logstash/config/ir/CompiledPipeline.java:376)\\njava.util.Optional.orElseThrow(java/util/Optional.java:408)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.compileFilters(org/logstash/config/ir/CompiledPipeline.java:376)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:359)\\norg.logstash.config.ir.CompiledPipeline$CompiledUnorderedExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:319)\\norg.logstash.config.ir.CompiledPipeline.buildExecution(org/logstash/config/ir/CompiledPipeline.java:153)\\norg.logstash.execution.WorkerLoop.<init>(org/logstash/execution/WorkerLoop.java:67)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(jdk/internal/reflect/NativeConstructorAccessorImpl.java:62)\\njdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(jdk/internal/reflect/DelegatingConstructorAccessorImpl.java:45)\\njava.lang.reflect.Constructor.newInstance(java/lang/reflect/Constructor.java:490)\\norg.jruby.javasupport.JavaConstructor.newInstanceDirect(org/jruby/javasupport/JavaConstructor.java:253)\\norg.jruby.RubyClass.newInstance(org/jruby/RubyClass.java:939)\\norg.jruby.RubyClass$INVOKER$i$newInstance.call(org/jruby/RubyClass$INVOKER$i$newInstance.gen)\\nRUBY.init_worker_loop(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:565)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.start_workers(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:280)\\norg.jruby.RubyProc.call(org/jruby/RubyProc.java:318)\\njava.lang.Thread.run(java/lang/Thread.java:829)\", :thread=>\"#<Thread:0x62253b8d sleep>\"}", "[ERROR] 2021-12-11 19:07:39.560 [Ruby-0-Thread-11: :1] javapipeline - Worker loop initialization error {:pipeline_id=>\"main\", :error=>\"Missing Filter End Vertex\", :exception=>Java::JavaLang::IllegalStateException, :stacktrace=>\"org.logstash.config.ir.CompiledPipeline$CompiledExecution.lambda$compileFilters$1(org/logstash/config/ir/CompiledPipeline.java:376)\\njava.util.Optional.orElseThrow(java/util/Optional.java:408)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.compileFilters(org/logstash/config/ir/CompiledPipeline.java:376)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:359)\\norg.logstash.config.ir.CompiledPipeline$CompiledUnorderedExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:319)\\norg.logstash.config.ir.CompiledPipeline.buildExecution(org/logstash/config/ir/CompiledPipeline.java:153)\\norg.logstash.execution.WorkerLoop.<init>(org/logstash/execution/WorkerLoop.java:67)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(jdk/internal/reflect/NativeConstructorAccessorImpl.java:62)\\njdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(jdk/internal/reflect/DelegatingConstructorAccessorImpl.java:45)\\njava.lang.reflect.Constructor.newInstance(java/lang/reflect/Constructor.java:490)\\norg.jruby.javasupport.JavaConstructor.newInstanceDirect(org/jruby/javasupport/JavaConstructor.java:253)\\norg.jruby.RubyClass.newInstance(org/jruby/RubyClass.java:939)\\norg.jruby.RubyClass$INVOKER$i$newInstance.call(org/jruby/RubyClass$INVOKER$i$newInstance.gen)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.init_worker_loop(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:565)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.RUBY$method$init_worker_loop$0$__VARARGS__(usr/share/logstash/logstash_minus_core/lib/logstash//usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.start_workers(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:280)\\norg.jruby.RubyProc.call(org/jruby/RubyProc.java:318)\\njava.lang.Thread.run(java/lang/Thread.java:829)\", :thread=>\"#<Thread:0x62253b8d sleep>\"}", "[ERROR] 2021-12-11 19:07:39.562 [Ruby-0-Thread-13: :1] javapipeline - Worker loop initialization error {:pipeline_id=>\"main\", :error=>\"Missing Filter End Vertex\", :exception=>Java::JavaLang::IllegalStateException, :stacktrace=>\"org.logstash.config.ir.CompiledPipeline$CompiledExecution.lambda$compileFilters$1(org/logstash/config/ir/CompiledPipeline.java:376)\\njava.util.Optional.orElseThrow(java/util/Optional.java:408)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.compileFilters(org/logstash/config/ir/CompiledPipeline.java:376)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:359)\\norg.logstash.config.ir.CompiledPipeline$CompiledUnorderedExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:319)\\norg.logstash.config.ir.CompiledPipeline.buildExecution(org/logstash/config/ir/CompiledPipeline.java:153)\\norg.logstash.execution.WorkerLoop.<init>(org/logstash/execution/WorkerLoop.java:67)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(jdk/internal/reflect/NativeConstructorAccessorImpl.java:62)\\njdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(jdk/internal/reflect/DelegatingConstructorAccessorImpl.java:45)\\njava.lang.reflect.Constructor.newInstance(java/lang/reflect/Constructor.java:490)\\norg.jruby.javasupport.JavaConstructor.newInstanceDirect(org/jruby/javasupport/JavaConstructor.java:253)\\norg.jruby.RubyClass.newInstance(org/jruby/RubyClass.java:939)\\norg.jruby.RubyClass$INVOKER$i$newInstance.call(org/jruby/RubyClass$INVOKER$i$newInstance.gen)\\nRUBY.init_worker_loop(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:565)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.start_workers(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:280)\\norg.jruby.RubyProc.call(org/jruby/RubyProc.java:318)\\njava.lang.Thread.run(java/lang/Thread.java:829)\", :thread=>\"#<Thread:0x62253b8d sleep>\"}", "[ERROR] 2021-12-11 19:07:39.562 [Ruby-0-Thread-14: :1] javapipeline - Worker loop initialization error {:pipeline_id=>\"main\", :error=>\"Missing Filter End Vertex\", :exception=>Java::JavaLang::IllegalStateException, :stacktrace=>\"org.logstash.config.ir.CompiledPipeline$CompiledExecution.lambda$compileFilters$1(org/logstash/config/ir/CompiledPipeline.java:376)\\njava.util.Optional.orElseThrow(java/util/Optional.java:408)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.compileFilters(org/logstash/config/ir/CompiledPipeline.java:376)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:359)\\norg.logstash.config.ir.CompiledPipeline$CompiledUnorderedExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:319)\\norg.logstash.config.ir.CompiledPipeline.buildExecution(org/logstash/config/ir/CompiledPipeline.java:153)\\norg.logstash.execution.WorkerLoop.<init>(org/logstash/execution/WorkerLoop.java:67)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(jdk/internal/reflect/NativeConstructorAccessorImpl.java:62)\\njdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(jdk/internal/reflect/DelegatingConstructorAccessorImpl.java:45)\\njava.lang.reflect.Constructor.newInstance(java/lang/reflect/Constructor.java:490)\\norg.jruby.javasupport.JavaConstructor.newInstanceDirect(org/jruby/javasupport/JavaConstructor.java:253)\\norg.jruby.RubyClass.newInstance(org/jruby/RubyClass.java:939)\\norg.jruby.RubyClass$INVOKER$i$newInstance.call(org/jruby/RubyClass$INVOKER$i$newInstance.gen)\\nRUBY.init_worker_loop(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:565)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.start_workers(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:280)\\norg.jruby.RubyProc.call(org/jruby/RubyProc.java:318)\\njava.lang.Thread.run(java/lang/Thread.java:829)\", :thread=>\"#<Thread:0x62253b8d sleep>\"}", "[ERROR] 2021-12-11 19:07:39.563 [Ruby-0-Thread-16: :1] javapipeline - Worker loop initialization error {:pipeline_id=>\"main\", :error=>\"Missing Filter End Vertex\", :exception=>Java::JavaLang::IllegalStateException, :stacktrace=>\"org.logstash.config.ir.CompiledPipeline$CompiledExecution.lambda$compileFilters$1(org/logstash/config/ir/CompiledPipeline.java:376)\\njava.util.Optional.orElseThrow(java/util/Optional.java:408)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.compileFilters(org/logstash/config/ir/CompiledPipeline.java:376)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:359)\\norg.logstash.config.ir.CompiledPipeline$CompiledUnorderedExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:319)\\norg.logstash.config.ir.CompiledPipeline.buildExecution(org/logstash/config/ir/CompiledPipeline.java:153)\\norg.logstash.execution.WorkerLoop.<init>(org/logstash/execution/WorkerLoop.java:67)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(jdk/internal/reflect/NativeConstructorAccessorImpl.java:62)\\njdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(jdk/internal/reflect/DelegatingConstructorAccessorImpl.java:45)\\njava.lang.reflect.Constructor.newInstance(java/lang/reflect/Constructor.java:490)\\norg.jruby.javasupport.JavaConstructor.newInstanceDirect(org/jruby/javasupport/JavaConstructor.java:253)\\norg.jruby.RubyClass.newInstance(org/jruby/RubyClass.java:939)\\norg.jruby.RubyClass$INVOKER$i$newInstance.call(org/jruby/RubyClass$INVOKER$i$newInstance.gen)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.init_worker_loop(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:565)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.RUBY$method$init_worker_loop$0$__VARARGS__(usr/share/logstash/logstash_minus_core/lib/logstash//usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.start_workers(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:280)\\norg.jruby.RubyProc.call(org/jruby/RubyProc.java:318)\\njava.lang.Thread.run(java/lang/Thread.java:829)\", :thread=>\"#<Thread:0x62253b8d sleep>\"}", "[ERROR] 2021-12-11 19:07:39.569 [[main]-pipeline-manager] javapipeline - Pipeline error {:pipeline_id=>\"main\", :exception=>#<RuntimeError: Some worker(s) were not correctly initialized>, :backtrace=>[\"/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:284:in `start_workers'\", \"/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:185:in `run'\", \"/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:137:in `block in start'\"], \"pipeline.sources\"=>[\"/etc/logstash/logstash.conf\"], :thread=>\"#<Thread:0x62253b8d run>\"}", "[INFO ] 2021-12-11 19:07:39.571 [[main]-pipeline-manager] javapipeline - Pipeline terminated {\"pipeline.id\"=>\"main\"}", "[ERROR] 2021-12-11 19:07:39.588 [Converge PipelineAction::Create<main>] agent - Failed to execute action {:id=>:main, :action_type=>LogStash::ConvergeResult::FailedAction, :message=>\"Could not execute action: PipelineAction::Create<main>, action_result: false\", :backtrace=>nil}", "[INFO ] 2021-12-11 19:07:39.618 [Ruby-0-Thread-10: :1] elasticsearch - Installing Elasticsearch template {:name=>\"logstash\"}", "[INFO ] 2021-12-11 19:07:39.666 [LogStash::Runner] runner - Logstash shut down."]}
fatal: [el-deb]: FAILED! => {"changed": true, "cmd": ["/usr/share/logstash/bin/logstash", "-f", "/etc/logstash/logstash.conf"], "delta": "0:00:17.376441", "end": "2021-12-11 19:07:42.155992", "msg": "non-zero return code", "rc": 1, "start": "2021-12-11 19:07:24.779551", "stderr": "OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.\n/usr/share/logstash/vendor/bundle/jruby/2.5.0/gems/bundler-1.17.3/lib/bundler/rubygems_integration.rb:200: warning: constant Gem::ConfigMap is deprecated\nWARNING: Could not find logstash.yml which is typically located in $LS_HOME/config or /etc/logstash. You can specify the path using --path.settings. Continuing using the defaults", "stderr_lines": ["OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.", "/usr/share/logstash/vendor/bundle/jruby/2.5.0/gems/bundler-1.17.3/lib/bundler/rubygems_integration.rb:200: warning: constant Gem::ConfigMap is deprecated", "WARNING: Could not find logstash.yml which is typically located in $LS_HOME/config or /etc/logstash. You can specify the path using --path.settings. Continuing using the defaults"], "stdout": "Using bundled JDK: /usr/share/logstash/jdk\nCould not find log4j2 configuration at path /usr/share/logstash/config/log4j2.properties. Using default config which logs errors to the console\n[INFO ] 2021-12-11 19:07:38.544 [main] runner - Starting Logstash {\"logstash.version\"=>\"7.14.0\", \"jruby.version\"=>\"jruby 9.2.19.0 (2.5.8) 2021-06-15 55810c552b OpenJDK 64-Bit Server VM 11.0.11+9 on 11.0.11+9 +indy +jit [linux-x86_64]\"}\n[INFO ] 2021-12-11 19:07:38.568 [main] writabledirectory - Creating directory {:setting=>\"path.queue\", :path=>\"/usr/share/logstash/data/queue\"}\n[INFO ] 2021-12-11 19:07:38.578 [main] writabledirectory - Creating directory {:setting=>\"path.dead_letter_queue\", :path=>\"/usr/share/logstash/data/dead_letter_queue\"}\n[WARN ] 2021-12-11 19:07:38.832 [LogStash::Runner] multilocal - Ignoring the 'pipelines.yml' file because modules or command line options are specified\n[INFO ] 2021-12-11 19:07:38.854 [LogStash::Runner] agent - No persistent UUID file found. Generating new UUID {:uuid=>\"1c278fc4-a6cc-464f-b874-7821087344e6\", :path=>\"/usr/share/logstash/data/uuid\"}\n[INFO ] 2021-12-11 19:07:39.943 [Api Webserver] agent - Successfully started Logstash API endpoint {:port=>9600}\n[INFO ] 2021-12-11 19:07:40.339 [Converge PipelineAction::Create<main>] Reflections - Reflections took 76 ms to scan 1 urls, producing 120 keys and 417 values \n[WARN ] 2021-12-11 19:07:41.074 [Converge PipelineAction::Create<main>] elasticsearch - Relying on default value of `pipeline.ecs_compatibility`, which may change in a future major release of Logstash. To avoid unexpected changes when upgrading Logstash, please explicitly declare your desired ECS Compatibility mode.\n[INFO ] 2021-12-11 19:07:41.262 [[main]-pipeline-manager] elasticsearch - New Elasticsearch output {:class=>\"LogStash::Outputs::ElasticSearch\", :hosts=>[\"//localhost:9200\"]}\n[INFO ] 2021-12-11 19:07:41.559 [[main]-pipeline-manager] elasticsearch - Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[http://localhost:9200/]}}\n[WARN ] 2021-12-11 19:07:41.707 [[main]-pipeline-manager] elasticsearch - Restored connection to ES instance {:url=>\"http://localhost:9200/\"}\n[INFO ] 2021-12-11 19:07:41.752 [[main]-pipeline-manager] elasticsearch - Elasticsearch version determined (7.14.0) {:es_version=>7}\n[WARN ] 2021-12-11 19:07:41.755 [[main]-pipeline-manager] elasticsearch - Detected a 6.x and above cluster: the `type` event field won't be used to determine the document _type {:es_version=>7}\n[WARN ] 2021-12-11 19:07:41.855 [Ruby-0-Thread-10: :1] elasticsearch - Configuration is data stream compliant but due backwards compatibility Logstash 7.x will not assume writing to a data-stream, default behavior will change on Logstash 8.0 (set `data_stream => true/false` to disable this warning)\n[WARN ] 2021-12-11 19:07:41.855 [[main]-pipeline-manager] elasticsearch - Configuration is data stream compliant but due backwards compatibility Logstash 7.x will not assume writing to a data-stream, default behavior will change on Logstash 8.0 (set `data_stream => true/false` to disable this warning)\n[INFO ] 2021-12-11 19:07:41.904 [Ruby-0-Thread-10: :1] elasticsearch - Using a default mapping template {:es_version=>7, :ecs_compatibility=>:disabled}\n[INFO ] 2021-12-11 19:07:41.910 [[main]-pipeline-manager] javapipeline - Starting pipeline {:pipeline_id=>\"main\", \"pipeline.workers\"=>6, \"pipeline.batch.size\"=>125, \"pipeline.batch.delay\"=>50, \"pipeline.max_inflight\"=>750, \"pipeline.sources\"=>[\"/etc/logstash/logstash.conf\"], :thread=>\"#<Thread:0x34f841e2 run>\"}\n[ERROR] 2021-12-11 19:07:41.928 [Ruby-0-Thread-11: :1] javapipeline - Worker loop initialization error {:pipeline_id=>\"main\", :error=>\"Missing Filter End Vertex\", :exception=>Java::JavaLang::IllegalStateException, :stacktrace=>\"org.logstash.config.ir.CompiledPipeline$CompiledExecution.lambda$compileFilters$1(org/logstash/config/ir/CompiledPipeline.java:376)\\njava.util.Optional.orElseThrow(java/util/Optional.java:408)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.compileFilters(org/logstash/config/ir/CompiledPipeline.java:376)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:359)\\norg.logstash.config.ir.CompiledPipeline$CompiledUnorderedExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:319)\\norg.logstash.config.ir.CompiledPipeline.buildExecution(org/logstash/config/ir/CompiledPipeline.java:153)\\norg.logstash.execution.WorkerLoop.<init>(org/logstash/execution/WorkerLoop.java:67)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(jdk/internal/reflect/NativeConstructorAccessorImpl.java:62)\\njdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(jdk/internal/reflect/DelegatingConstructorAccessorImpl.java:45)\\njava.lang.reflect.Constructor.newInstance(java/lang/reflect/Constructor.java:490)\\norg.jruby.javasupport.JavaConstructor.newInstanceDirect(org/jruby/javasupport/JavaConstructor.java:253)\\norg.jruby.RubyClass.newInstance(org/jruby/RubyClass.java:939)\\norg.jruby.RubyClass$INVOKER$i$newInstance.call(org/jruby/RubyClass$INVOKER$i$newInstance.gen)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.init_worker_loop(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:565)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.RUBY$method$init_worker_loop$0$__VARARGS__(usr/share/logstash/logstash_minus_core/lib/logstash//usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.start_workers(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:280)\\norg.jruby.RubyProc.call(org/jruby/RubyProc.java:318)\\njava.lang.Thread.run(java/lang/Thread.java:829)\", :thread=>\"#<Thread:0x34f841e2 sleep>\"}\n[ERROR] 2021-12-11 19:07:41.931 [Ruby-0-Thread-13: :1] javapipeline - Worker loop initialization error {:pipeline_id=>\"main\", :error=>\"Missing Filter End Vertex\", :exception=>Java::JavaLang::IllegalStateException, :stacktrace=>\"org.logstash.config.ir.CompiledPipeline$CompiledExecution.lambda$compileFilters$1(org/logstash/config/ir/CompiledPipeline.java:376)\\njava.util.Optional.orElseThrow(java/util/Optional.java:408)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.compileFilters(org/logstash/config/ir/CompiledPipeline.java:376)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:359)\\norg.logstash.config.ir.CompiledPipeline$CompiledUnorderedExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:319)\\norg.logstash.config.ir.CompiledPipeline.buildExecution(org/logstash/config/ir/CompiledPipeline.java:153)\\norg.logstash.execution.WorkerLoop.<init>(org/logstash/execution/WorkerLoop.java:67)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(jdk/internal/reflect/NativeConstructorAccessorImpl.java:62)\\njdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(jdk/internal/reflect/DelegatingConstructorAccessorImpl.java:45)\\njava.lang.reflect.Constructor.newInstance(java/lang/reflect/Constructor.java:490)\\norg.jruby.javasupport.JavaConstructor.newInstanceDirect(org/jruby/javasupport/JavaConstructor.java:253)\\norg.jruby.RubyClass.newInstance(org/jruby/RubyClass.java:939)\\norg.jruby.RubyClass$INVOKER$i$newInstance.call(org/jruby/RubyClass$INVOKER$i$newInstance.gen)\\nRUBY.init_worker_loop(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:565)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.start_workers(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:280)\\norg.jruby.RubyProc.call(org/jruby/RubyProc.java:318)\\njava.lang.Thread.run(java/lang/Thread.java:829)\", :thread=>\"#<Thread:0x34f841e2 sleep>\"}\n[ERROR] 2021-12-11 19:07:41.931 [Ruby-0-Thread-14: :1] javapipeline - Worker loop initialization error {:pipeline_id=>\"main\", :error=>\"Missing Filter End Vertex\", :exception=>Java::JavaLang::IllegalStateException, :stacktrace=>\"org.logstash.config.ir.CompiledPipeline$CompiledExecution.lambda$compileFilters$1(org/logstash/config/ir/CompiledPipeline.java:376)\\njava.util.Optional.orElseThrow(java/util/Optional.java:408)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.compileFilters(org/logstash/config/ir/CompiledPipeline.java:376)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:359)\\norg.logstash.config.ir.CompiledPipeline$CompiledUnorderedExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:319)\\norg.logstash.config.ir.CompiledPipeline.buildExecution(org/logstash/config/ir/CompiledPipeline.java:153)\\norg.logstash.execution.WorkerLoop.<init>(org/logstash/execution/WorkerLoop.java:67)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(jdk/internal/reflect/NativeConstructorAccessorImpl.java:62)\\njdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(jdk/internal/reflect/DelegatingConstructorAccessorImpl.java:45)\\njava.lang.reflect.Constructor.newInstance(java/lang/reflect/Constructor.java:490)\\norg.jruby.javasupport.JavaConstructor.newInstanceDirect(org/jruby/javasupport/JavaConstructor.java:253)\\norg.jruby.RubyClass.newInstance(org/jruby/RubyClass.java:939)\\norg.jruby.RubyClass$INVOKER$i$newInstance.call(org/jruby/RubyClass$INVOKER$i$newInstance.gen)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.init_worker_loop(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:565)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.RUBY$method$init_worker_loop$0$__VARARGS__(usr/share/logstash/logstash_minus_core/lib/logstash//usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.start_workers(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:280)\\norg.jruby.RubyProc.call(org/jruby/RubyProc.java:318)\\njava.lang.Thread.run(java/lang/Thread.java:829)\", :thread=>\"#<Thread:0x34f841e2 sleep>\"}\n[ERROR] 2021-12-11 19:07:41.933 [Ruby-0-Thread-16: :1] javapipeline - Worker loop initialization error {:pipeline_id=>\"main\", :error=>\"Missing Filter End Vertex\", :exception=>Java::JavaLang::IllegalStateException, :stacktrace=>\"org.logstash.config.ir.CompiledPipeline$CompiledExecution.lambda$compileFilters$1(org/logstash/config/ir/CompiledPipeline.java:376)\\njava.util.Optional.orElseThrow(java/util/Optional.java:408)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.compileFilters(org/logstash/config/ir/CompiledPipeline.java:376)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:359)\\norg.logstash.config.ir.CompiledPipeline$CompiledUnorderedExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:319)\\norg.logstash.config.ir.CompiledPipeline.buildExecution(org/logstash/config/ir/CompiledPipeline.java:153)\\norg.logstash.execution.WorkerLoop.<init>(org/logstash/execution/WorkerLoop.java:67)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(jdk/internal/reflect/NativeConstructorAccessorImpl.java:62)\\njdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(jdk/internal/reflect/DelegatingConstructorAccessorImpl.java:45)\\njava.lang.reflect.Constructor.newInstance(java/lang/reflect/Constructor.java:490)\\norg.jruby.javasupport.JavaConstructor.newInstanceDirect(org/jruby/javasupport/JavaConstructor.java:253)\\norg.jruby.RubyClass.newInstance(org/jruby/RubyClass.java:939)\\norg.jruby.RubyClass$INVOKER$i$newInstance.call(org/jruby/RubyClass$INVOKER$i$newInstance.gen)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.init_worker_loop(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:565)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.start_workers(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:280)\\norg.jruby.RubyProc.call(org/jruby/RubyProc.java:318)\\njava.lang.Thread.run(java/lang/Thread.java:829)\", :thread=>\"#<Thread:0x34f841e2 sleep>\"}\n[ERROR] 2021-12-11 19:07:41.934 [Ruby-0-Thread-12: :1] javapipeline - Worker loop initialization error {:pipeline_id=>\"main\", :error=>\"Missing Filter End Vertex\", :exception=>Java::JavaLang::IllegalStateException, :stacktrace=>\"org.logstash.config.ir.CompiledPipeline$CompiledExecution.lambda$compileFilters$1(org/logstash/config/ir/CompiledPipeline.java:376)\\njava.util.Optional.orElseThrow(java/util/Optional.java:408)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.compileFilters(org/logstash/config/ir/CompiledPipeline.java:376)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:359)\\norg.logstash.config.ir.CompiledPipeline$CompiledUnorderedExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:319)\\norg.logstash.config.ir.CompiledPipeline.buildExecution(org/logstash/config/ir/CompiledPipeline.java:153)\\norg.logstash.execution.WorkerLoop.<init>(org/logstash/execution/WorkerLoop.java:67)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(jdk/internal/reflect/NativeConstructorAccessorImpl.java:62)\\njdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(jdk/internal/reflect/DelegatingConstructorAccessorImpl.java:45)\\njava.lang.reflect.Constructor.newInstance(java/lang/reflect/Constructor.java:490)\\norg.jruby.javasupport.JavaConstructor.newInstanceDirect(org/jruby/javasupport/JavaConstructor.java:253)\\norg.jruby.RubyClass.newInstance(org/jruby/RubyClass.java:939)\\norg.jruby.RubyClass$INVOKER$i$newInstance.call(org/jruby/RubyClass$INVOKER$i$newInstance.gen)\\nRUBY.init_worker_loop(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:565)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.start_workers(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:280)\\norg.jruby.RubyProc.call(org/jruby/RubyProc.java:318)\\njava.lang.Thread.run(java/lang/Thread.java:829)\", :thread=>\"#<Thread:0x34f841e2 sleep>\"}\n[ERROR] 2021-12-11 19:07:41.934 [Ruby-0-Thread-15: :1] javapipeline - Worker loop initialization error {:pipeline_id=>\"main\", :error=>\"Missing Filter End Vertex\", :exception=>Java::JavaLang::IllegalStateException, :stacktrace=>\"org.logstash.config.ir.CompiledPipeline$CompiledExecution.lambda$compileFilters$1(org/logstash/config/ir/CompiledPipeline.java:376)\\njava.util.Optional.orElseThrow(java/util/Optional.java:408)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.compileFilters(org/logstash/config/ir/CompiledPipeline.java:376)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:359)\\norg.logstash.config.ir.CompiledPipeline$CompiledUnorderedExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:319)\\norg.logstash.config.ir.CompiledPipeline.buildExecution(org/logstash/config/ir/CompiledPipeline.java:153)\\norg.logstash.execution.WorkerLoop.<init>(org/logstash/execution/WorkerLoop.java:67)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(jdk/internal/reflect/NativeConstructorAccessorImpl.java:62)\\njdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(jdk/internal/reflect/DelegatingConstructorAccessorImpl.java:45)\\njava.lang.reflect.Constructor.newInstance(java/lang/reflect/Constructor.java:490)\\norg.jruby.javasupport.JavaConstructor.newInstanceDirect(org/jruby/javasupport/JavaConstructor.java:253)\\norg.jruby.RubyClass.newInstance(org/jruby/RubyClass.java:939)\\norg.jruby.RubyClass$INVOKER$i$newInstance.call(org/jruby/RubyClass$INVOKER$i$newInstance.gen)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.init_worker_loop(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:565)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.start_workers(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:280)\\norg.jruby.RubyProc.call(org/jruby/RubyProc.java:318)\\njava.lang.Thread.run(java/lang/Thread.java:829)\", :thread=>\"#<Thread:0x34f841e2 sleep>\"}\n[ERROR] 2021-12-11 19:07:41.942 [[main]-pipeline-manager] javapipeline - Pipeline error {:pipeline_id=>\"main\", :exception=>#<RuntimeError: Some worker(s) were not correctly initialized>, :backtrace=>[\"/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:284:in `start_workers'\", \"/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:185:in `run'\", \"/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:137:in `block in start'\"], \"pipeline.sources\"=>[\"/etc/logstash/logstash.conf\"], :thread=>\"#<Thread:0x34f841e2 run>\"}\n[INFO ] 2021-12-11 19:07:41.943 [[main]-pipeline-manager] javapipeline - Pipeline terminated {\"pipeline.id\"=>\"main\"}\n[ERROR] 2021-12-11 19:07:41.963 [Converge PipelineAction::Create<main>] agent - Failed to execute action {:id=>:main, :action_type=>LogStash::ConvergeResult::FailedAction, :message=>\"Could not execute action: PipelineAction::Create<main>, action_result: false\", :backtrace=>nil}\n[INFO ] 2021-12-11 19:07:41.998 [Ruby-0-Thread-10: :1] elasticsearch - Installing Elasticsearch template {:name=>\"logstash\"}\n[INFO ] 2021-12-11 19:07:42.063 [LogStash::Runner] runner - Logstash shut down.", "stdout_lines": ["Using bundled JDK: /usr/share/logstash/jdk", "Could not find log4j2 configuration at path /usr/share/logstash/config/log4j2.properties. Using default config which logs errors to the console", "[INFO ] 2021-12-11 19:07:38.544 [main] runner - Starting Logstash {\"logstash.version\"=>\"7.14.0\", \"jruby.version\"=>\"jruby 9.2.19.0 (2.5.8) 2021-06-15 55810c552b OpenJDK 64-Bit Server VM 11.0.11+9 on 11.0.11+9 +indy +jit [linux-x86_64]\"}", "[INFO ] 2021-12-11 19:07:38.568 [main] writabledirectory - Creating directory {:setting=>\"path.queue\", :path=>\"/usr/share/logstash/data/queue\"}", "[INFO ] 2021-12-11 19:07:38.578 [main] writabledirectory - Creating directory {:setting=>\"path.dead_letter_queue\", :path=>\"/usr/share/logstash/data/dead_letter_queue\"}", "[WARN ] 2021-12-11 19:07:38.832 [LogStash::Runner] multilocal - Ignoring the 'pipelines.yml' file because modules or command line options are specified", "[INFO ] 2021-12-11 19:07:38.854 [LogStash::Runner] agent - No persistent UUID file found. Generating new UUID {:uuid=>\"1c278fc4-a6cc-464f-b874-7821087344e6\", :path=>\"/usr/share/logstash/data/uuid\"}", "[INFO ] 2021-12-11 19:07:39.943 [Api Webserver] agent - Successfully started Logstash API endpoint {:port=>9600}", "[INFO ] 2021-12-11 19:07:40.339 [Converge PipelineAction::Create<main>] Reflections - Reflections took 76 ms to scan 1 urls, producing 120 keys and 417 values ", "[WARN ] 2021-12-11 19:07:41.074 [Converge PipelineAction::Create<main>] elasticsearch - Relying on default value of `pipeline.ecs_compatibility`, which may change in a future major release of Logstash. To avoid unexpected changes when upgrading Logstash, please explicitly declare your desired ECS Compatibility mode.", "[INFO ] 2021-12-11 19:07:41.262 [[main]-pipeline-manager] elasticsearch - New Elasticsearch output {:class=>\"LogStash::Outputs::ElasticSearch\", :hosts=>[\"//localhost:9200\"]}", "[INFO ] 2021-12-11 19:07:41.559 [[main]-pipeline-manager] elasticsearch - Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[http://localhost:9200/]}}", "[WARN ] 2021-12-11 19:07:41.707 [[main]-pipeline-manager] elasticsearch - Restored connection to ES instance {:url=>\"http://localhost:9200/\"}", "[INFO ] 2021-12-11 19:07:41.752 [[main]-pipeline-manager] elasticsearch - Elasticsearch version determined (7.14.0) {:es_version=>7}", "[WARN ] 2021-12-11 19:07:41.755 [[main]-pipeline-manager] elasticsearch - Detected a 6.x and above cluster: the `type` event field won't be used to determine the document _type {:es_version=>7}", "[WARN ] 2021-12-11 19:07:41.855 [Ruby-0-Thread-10: :1] elasticsearch - Configuration is data stream compliant but due backwards compatibility Logstash 7.x will not assume writing to a data-stream, default behavior will change on Logstash 8.0 (set `data_stream => true/false` to disable this warning)", "[WARN ] 2021-12-11 19:07:41.855 [[main]-pipeline-manager] elasticsearch - Configuration is data stream compliant but due backwards compatibility Logstash 7.x will not assume writing to a data-stream, default behavior will change on Logstash 8.0 (set `data_stream => true/false` to disable this warning)", "[INFO ] 2021-12-11 19:07:41.904 [Ruby-0-Thread-10: :1] elasticsearch - Using a default mapping template {:es_version=>7, :ecs_compatibility=>:disabled}", "[INFO ] 2021-12-11 19:07:41.910 [[main]-pipeline-manager] javapipeline - Starting pipeline {:pipeline_id=>\"main\", \"pipeline.workers\"=>6, \"pipeline.batch.size\"=>125, \"pipeline.batch.delay\"=>50, \"pipeline.max_inflight\"=>750, \"pipeline.sources\"=>[\"/etc/logstash/logstash.conf\"], :thread=>\"#<Thread:0x34f841e2 run>\"}", "[ERROR] 2021-12-11 19:07:41.928 [Ruby-0-Thread-11: :1] javapipeline - Worker loop initialization error {:pipeline_id=>\"main\", :error=>\"Missing Filter End Vertex\", :exception=>Java::JavaLang::IllegalStateException, :stacktrace=>\"org.logstash.config.ir.CompiledPipeline$CompiledExecution.lambda$compileFilters$1(org/logstash/config/ir/CompiledPipeline.java:376)\\njava.util.Optional.orElseThrow(java/util/Optional.java:408)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.compileFilters(org/logstash/config/ir/CompiledPipeline.java:376)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:359)\\norg.logstash.config.ir.CompiledPipeline$CompiledUnorderedExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:319)\\norg.logstash.config.ir.CompiledPipeline.buildExecution(org/logstash/config/ir/CompiledPipeline.java:153)\\norg.logstash.execution.WorkerLoop.<init>(org/logstash/execution/WorkerLoop.java:67)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(jdk/internal/reflect/NativeConstructorAccessorImpl.java:62)\\njdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(jdk/internal/reflect/DelegatingConstructorAccessorImpl.java:45)\\njava.lang.reflect.Constructor.newInstance(java/lang/reflect/Constructor.java:490)\\norg.jruby.javasupport.JavaConstructor.newInstanceDirect(org/jruby/javasupport/JavaConstructor.java:253)\\norg.jruby.RubyClass.newInstance(org/jruby/RubyClass.java:939)\\norg.jruby.RubyClass$INVOKER$i$newInstance.call(org/jruby/RubyClass$INVOKER$i$newInstance.gen)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.init_worker_loop(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:565)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.RUBY$method$init_worker_loop$0$__VARARGS__(usr/share/logstash/logstash_minus_core/lib/logstash//usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.start_workers(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:280)\\norg.jruby.RubyProc.call(org/jruby/RubyProc.java:318)\\njava.lang.Thread.run(java/lang/Thread.java:829)\", :thread=>\"#<Thread:0x34f841e2 sleep>\"}", "[ERROR] 2021-12-11 19:07:41.931 [Ruby-0-Thread-13: :1] javapipeline - Worker loop initialization error {:pipeline_id=>\"main\", :error=>\"Missing Filter End Vertex\", :exception=>Java::JavaLang::IllegalStateException, :stacktrace=>\"org.logstash.config.ir.CompiledPipeline$CompiledExecution.lambda$compileFilters$1(org/logstash/config/ir/CompiledPipeline.java:376)\\njava.util.Optional.orElseThrow(java/util/Optional.java:408)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.compileFilters(org/logstash/config/ir/CompiledPipeline.java:376)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:359)\\norg.logstash.config.ir.CompiledPipeline$CompiledUnorderedExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:319)\\norg.logstash.config.ir.CompiledPipeline.buildExecution(org/logstash/config/ir/CompiledPipeline.java:153)\\norg.logstash.execution.WorkerLoop.<init>(org/logstash/execution/WorkerLoop.java:67)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(jdk/internal/reflect/NativeConstructorAccessorImpl.java:62)\\njdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(jdk/internal/reflect/DelegatingConstructorAccessorImpl.java:45)\\njava.lang.reflect.Constructor.newInstance(java/lang/reflect/Constructor.java:490)\\norg.jruby.javasupport.JavaConstructor.newInstanceDirect(org/jruby/javasupport/JavaConstructor.java:253)\\norg.jruby.RubyClass.newInstance(org/jruby/RubyClass.java:939)\\norg.jruby.RubyClass$INVOKER$i$newInstance.call(org/jruby/RubyClass$INVOKER$i$newInstance.gen)\\nRUBY.init_worker_loop(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:565)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.start_workers(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:280)\\norg.jruby.RubyProc.call(org/jruby/RubyProc.java:318)\\njava.lang.Thread.run(java/lang/Thread.java:829)\", :thread=>\"#<Thread:0x34f841e2 sleep>\"}", "[ERROR] 2021-12-11 19:07:41.931 [Ruby-0-Thread-14: :1] javapipeline - Worker loop initialization error {:pipeline_id=>\"main\", :error=>\"Missing Filter End Vertex\", :exception=>Java::JavaLang::IllegalStateException, :stacktrace=>\"org.logstash.config.ir.CompiledPipeline$CompiledExecution.lambda$compileFilters$1(org/logstash/config/ir/CompiledPipeline.java:376)\\njava.util.Optional.orElseThrow(java/util/Optional.java:408)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.compileFilters(org/logstash/config/ir/CompiledPipeline.java:376)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:359)\\norg.logstash.config.ir.CompiledPipeline$CompiledUnorderedExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:319)\\norg.logstash.config.ir.CompiledPipeline.buildExecution(org/logstash/config/ir/CompiledPipeline.java:153)\\norg.logstash.execution.WorkerLoop.<init>(org/logstash/execution/WorkerLoop.java:67)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(jdk/internal/reflect/NativeConstructorAccessorImpl.java:62)\\njdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(jdk/internal/reflect/DelegatingConstructorAccessorImpl.java:45)\\njava.lang.reflect.Constructor.newInstance(java/lang/reflect/Constructor.java:490)\\norg.jruby.javasupport.JavaConstructor.newInstanceDirect(org/jruby/javasupport/JavaConstructor.java:253)\\norg.jruby.RubyClass.newInstance(org/jruby/RubyClass.java:939)\\norg.jruby.RubyClass$INVOKER$i$newInstance.call(org/jruby/RubyClass$INVOKER$i$newInstance.gen)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.init_worker_loop(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:565)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.RUBY$method$init_worker_loop$0$__VARARGS__(usr/share/logstash/logstash_minus_core/lib/logstash//usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.start_workers(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:280)\\norg.jruby.RubyProc.call(org/jruby/RubyProc.java:318)\\njava.lang.Thread.run(java/lang/Thread.java:829)\", :thread=>\"#<Thread:0x34f841e2 sleep>\"}", "[ERROR] 2021-12-11 19:07:41.933 [Ruby-0-Thread-16: :1] javapipeline - Worker loop initialization error {:pipeline_id=>\"main\", :error=>\"Missing Filter End Vertex\", :exception=>Java::JavaLang::IllegalStateException, :stacktrace=>\"org.logstash.config.ir.CompiledPipeline$CompiledExecution.lambda$compileFilters$1(org/logstash/config/ir/CompiledPipeline.java:376)\\njava.util.Optional.orElseThrow(java/util/Optional.java:408)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.compileFilters(org/logstash/config/ir/CompiledPipeline.java:376)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:359)\\norg.logstash.config.ir.CompiledPipeline$CompiledUnorderedExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:319)\\norg.logstash.config.ir.CompiledPipeline.buildExecution(org/logstash/config/ir/CompiledPipeline.java:153)\\norg.logstash.execution.WorkerLoop.<init>(org/logstash/execution/WorkerLoop.java:67)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(jdk/internal/reflect/NativeConstructorAccessorImpl.java:62)\\njdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(jdk/internal/reflect/DelegatingConstructorAccessorImpl.java:45)\\njava.lang.reflect.Constructor.newInstance(java/lang/reflect/Constructor.java:490)\\norg.jruby.javasupport.JavaConstructor.newInstanceDirect(org/jruby/javasupport/JavaConstructor.java:253)\\norg.jruby.RubyClass.newInstance(org/jruby/RubyClass.java:939)\\norg.jruby.RubyClass$INVOKER$i$newInstance.call(org/jruby/RubyClass$INVOKER$i$newInstance.gen)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.init_worker_loop(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:565)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.start_workers(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:280)\\norg.jruby.RubyProc.call(org/jruby/RubyProc.java:318)\\njava.lang.Thread.run(java/lang/Thread.java:829)\", :thread=>\"#<Thread:0x34f841e2 sleep>\"}", "[ERROR] 2021-12-11 19:07:41.934 [Ruby-0-Thread-12: :1] javapipeline - Worker loop initialization error {:pipeline_id=>\"main\", :error=>\"Missing Filter End Vertex\", :exception=>Java::JavaLang::IllegalStateException, :stacktrace=>\"org.logstash.config.ir.CompiledPipeline$CompiledExecution.lambda$compileFilters$1(org/logstash/config/ir/CompiledPipeline.java:376)\\njava.util.Optional.orElseThrow(java/util/Optional.java:408)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.compileFilters(org/logstash/config/ir/CompiledPipeline.java:376)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:359)\\norg.logstash.config.ir.CompiledPipeline$CompiledUnorderedExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:319)\\norg.logstash.config.ir.CompiledPipeline.buildExecution(org/logstash/config/ir/CompiledPipeline.java:153)\\norg.logstash.execution.WorkerLoop.<init>(org/logstash/execution/WorkerLoop.java:67)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(jdk/internal/reflect/NativeConstructorAccessorImpl.java:62)\\njdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(jdk/internal/reflect/DelegatingConstructorAccessorImpl.java:45)\\njava.lang.reflect.Constructor.newInstance(java/lang/reflect/Constructor.java:490)\\norg.jruby.javasupport.JavaConstructor.newInstanceDirect(org/jruby/javasupport/JavaConstructor.java:253)\\norg.jruby.RubyClass.newInstance(org/jruby/RubyClass.java:939)\\norg.jruby.RubyClass$INVOKER$i$newInstance.call(org/jruby/RubyClass$INVOKER$i$newInstance.gen)\\nRUBY.init_worker_loop(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:565)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.start_workers(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:280)\\norg.jruby.RubyProc.call(org/jruby/RubyProc.java:318)\\njava.lang.Thread.run(java/lang/Thread.java:829)\", :thread=>\"#<Thread:0x34f841e2 sleep>\"}", "[ERROR] 2021-12-11 19:07:41.934 [Ruby-0-Thread-15: :1] javapipeline - Worker loop initialization error {:pipeline_id=>\"main\", :error=>\"Missing Filter End Vertex\", :exception=>Java::JavaLang::IllegalStateException, :stacktrace=>\"org.logstash.config.ir.CompiledPipeline$CompiledExecution.lambda$compileFilters$1(org/logstash/config/ir/CompiledPipeline.java:376)\\njava.util.Optional.orElseThrow(java/util/Optional.java:408)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.compileFilters(org/logstash/config/ir/CompiledPipeline.java:376)\\norg.logstash.config.ir.CompiledPipeline$CompiledExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:359)\\norg.logstash.config.ir.CompiledPipeline$CompiledUnorderedExecution.<init>(org/logstash/config/ir/CompiledPipeline.java:319)\\norg.logstash.config.ir.CompiledPipeline.buildExecution(org/logstash/config/ir/CompiledPipeline.java:153)\\norg.logstash.execution.WorkerLoop.<init>(org/logstash/execution/WorkerLoop.java:67)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\njdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(jdk/internal/reflect/NativeConstructorAccessorImpl.java:62)\\njdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(jdk/internal/reflect/DelegatingConstructorAccessorImpl.java:45)\\njava.lang.reflect.Constructor.newInstance(java/lang/reflect/Constructor.java:490)\\norg.jruby.javasupport.JavaConstructor.newInstanceDirect(org/jruby/javasupport/JavaConstructor.java:253)\\norg.jruby.RubyClass.newInstance(org/jruby/RubyClass.java:939)\\norg.jruby.RubyClass$INVOKER$i$newInstance.call(org/jruby/RubyClass$INVOKER$i$newInstance.gen)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.init_worker_loop(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:565)\\nusr.share.logstash.logstash_minus_core.lib.logstash.java_pipeline.start_workers(/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:280)\\norg.jruby.RubyProc.call(org/jruby/RubyProc.java:318)\\njava.lang.Thread.run(java/lang/Thread.java:829)\", :thread=>\"#<Thread:0x34f841e2 sleep>\"}", "[ERROR] 2021-12-11 19:07:41.942 [[main]-pipeline-manager] javapipeline - Pipeline error {:pipeline_id=>\"main\", :exception=>#<RuntimeError: Some worker(s) were not correctly initialized>, :backtrace=>[\"/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:284:in `start_workers'\", \"/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:185:in `run'\", \"/usr/share/logstash/logstash-core/lib/logstash/java_pipeline.rb:137:in `block in start'\"], \"pipeline.sources\"=>[\"/etc/logstash/logstash.conf\"], :thread=>\"#<Thread:0x34f841e2 run>\"}", "[INFO ] 2021-12-11 19:07:41.943 [[main]-pipeline-manager] javapipeline - Pipeline terminated {\"pipeline.id\"=>\"main\"}", "[ERROR] 2021-12-11 19:07:41.963 [Converge PipelineAction::Create<main>] agent - Failed to execute action {:id=>:main, :action_type=>LogStash::ConvergeResult::FailedAction, :message=>\"Could not execute action: PipelineAction::Create<main>, action_result: false\", :backtrace=>nil}", "[INFO ] 2021-12-11 19:07:41.998 [Ruby-0-Thread-10: :1] elasticsearch - Installing Elasticsearch template {:name=>\"logstash\"}", "[INFO ] 2021-12-11 19:07:42.063 [LogStash::Runner] runner - Logstash shut down."]}

RUNNING HANDLER [logstash : restart Logstash] **********************************

PLAY RECAP *********************************************************************
el-centos                  : ok=15   changed=7    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
el-deb                     : ok=15   changed=7    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
f-centos                   : ok=9    changed=1    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
f-deb                      : ok=9    changed=1    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
k-centos                   : ok=8    changed=2    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
k-deb                      : ok=8    changed=2    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   

