dependency:
  name: galaxy
driver:
  name: podman
platforms:
#  - name: centos
#    image: docker.io/pycontribs/centos:7
#    command: /sbin/init
#    privileged: true
#    published_ports:
#      - 0.0.0.0:5003:5003/udp
#      - 0.0.0.0:5003:5003/tcp
#    pre_build_image: true
  - name: ubuntu
    image: docker.io/library/ubuntu:latest
    tmpfs:
      - /run
      - /tmp
    volumes:
      - /sys/fs/cgroup:/sys/fs/cgroup:ro
    capabilities:
      - SYS_ADMIN
#    privileged: true
    command: "/lib/system"
    pre_build_image: true
provisioner:
  name: ansible
verifier:
  name: ansible

#---
#dependency:
#  name: galaxy
#driver:
#  name: podman
#lint: |
#  ansible-lint .
#  yamllint .
#platforms:
#  - name: instance-1
#    image: docker.io/pycontribs/centos:7
#    command: /sbin/init
#    privileged: True
#    published_ports:
#      - 0.0.0.0:5003:5003/udp
#      - 0.0.0.0:5003:5003/tcp
#    pre_build_image: true
#  - name: ubuntu
#    image: ubuntu
#    tmpfs:
#      - /run
#      - /tmp
#    volumes:
#      - /sys/fs/cgroup:/sys/fs/cgroup:ro
#    capabilities:
#      - SYS_ADMIN
#    command: "/usr/sbin/init"
##    privileged: true
#    pre_build_image: true
#provisioner:
#  name: ansible
#verifier:
#  name: ansible
